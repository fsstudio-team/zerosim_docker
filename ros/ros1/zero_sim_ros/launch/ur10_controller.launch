<?xml version="1.0"?>
<launch>
    <!-- start this controller -->
    <rosparam file="$(find zero_sim_ros)/controller/ur10_robotiq_controller.yaml" command="load"/>
    <node name="ur10_arm_controller_manager_spawner" pkg="controller_manager" type="spawner" ns="undefined_ur10" args="arm_controller" respawn="false" output="screen"/>

    <include file="$(find zero_sim_ros)/launch/ur10_robotiq_upload.launch"/>

    <!-- Given the published joint states, publish tf for the robot links -->
    <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" respawn="true" output="screen" />

    <!-- List all ROS1 topics to bridge -->
    <rosparam file="$(find zero_sim_ros)/ros2bridge/topics.yaml" command="load"/> 
    
    <!-- If you want to test if the robot is shown in RVIZ 1 -->
    <!-- <include file="$(find zero_sim_ros)/launch/moveit_rviz.launch">
        <arg name="rviz_config" value="$(find zero_sim_ros)/config/ur10/moveit.rviz"/>
    </include> -->
    <node pkg="nodelet" type="nodelet" name="nodelet1"
            args="load depth_image_proc/point_cloud_xyz nodelet_manager">
        <remap from="camera_info" to="/depth_registered/camera_info"/>
        <remap from="image_rect" to="/depth_registered/image_rect"/>
        <remap from="points" to="/camera/depth/points"/>
    </node>
</launch>